!function(h){"use strict";geckoShopify.refresh_ins=function(c){var e=null,a=null,d=(c.data("getby"),c.data("id")),_=c.data("limit"),t=c.data("name"),s=c.data("tag"),r=(c.data("act"),"https://www.instagram.com/"),n=""==t,g=t||s;if("spnt_t4"!=g){if(sp_nt_storage&&(e=sessionStorage.getItem("nt_ins"+g+d),a=sessionStorage.getItem("nt_ins"+g)),null!=e&&""!=a){if(c.html(e).parent().addClass("ins_loaded"),!c.hasClass("js_carousel"))return;return geckoShopify.refresh_flickity(c),!1}var o=function(e,a){var s="",r=(a=a||!0,c.data("cl")),n=c.data("cltb"),o=c.data("clmb"),i=c.data("target");c.html(e),console.log(e),console.log(e[0]);try{e=e[0].node;var t=!0}catch(e){t=!1}if(t)if(void 0!==e.is_private&&!0===e.is_private)c.html("<p class='instagram_private'><strong>This profile is private</strong></p>").parent().addClass("ins_loaded");else{var l=(e.edge_owner_to_timeline_media||e.edge_hashtag_to_media).edges;if(h.each(l,function(e,a){if(_<=e)return 0;var t=a.node;s+='<div class="cl_nt_'+e+" col_ins col-"+o+" col-md-"+n+" col-lg-"+r+' item pr"><a data-no-instant rel="nofollow" class="db pr oh" href="//instagram.com/p/'+t.shortcode+'" target="'+i+'"><div class="lazyload nt_bg_lz pr_lazy_img" data-bgset="'+t.thumbnail_resources[0].src+" 150w,"+t.thumbnail_resources[1].src+" 240w,"+t.thumbnail_resources[2].src+" 320w,"+t.thumbnail_resources[3].src+" 480w,"+t.thumbnail_resources[4].src+' 640w" data-sizes="auto"></div><div class="info pa tc flex ts__03 fl_center al_center op__0 t__0 l__0 r__0 b__0 h__100 pe_none"><span class="pr cw mr__5 ml__5"><i class="facl facl-heart-o mr__5"></i>'+t.edge_liked_by.count+'</span><span class="pr cw"><i class="facl facl-comments-o mr__5"></i>'+t.edge_media_to_comment.count+"</span></div></a></div>"}),c.html(s).parent().addClass("ins_loaded"),!c.hasClass("js_carousel"))return;geckoShopify.refresh_flickity(c),sp_nt_storage&&a&&(sessionStorage.setItem("nt_ins"+g+d,s),sessionStorage.setItem("nt_ins"+g,JSON.stringify(e)))}},i=function(){var e=(e=n?r+"explore/tags/"+s:r+t)+"/?__a=1";h.getJSON(e,function(e){try{e=e.graphql.hashtag.edge_hashtag_to_media.edges}catch(e){return l(),void console.error("Instagram Feed:error __a=1")}o(e)}).fail(function(e){l(),c.parent().addClass("ins_loaded"),console.error("Instagram Feed: __a=1 status code: ",e.status)})},l=function(){var e="https://api.teathemes.net/instagram?username="+t;h.get(e,function(e){try{e=e.entry_data.ProfilePage[0].user.media.nodes}catch(e){return void console.error("Instagram Feed:error APITea")}o(e)}).fail(function(e){c.parent().addClass("ins_loaded"),console.error("Instagram Feed: APITea status code: ",e.status)})};if(null!=a&&""!=a)a=JSON.parse(a),o(a,!1);else{var u=n?r+"explore/tags/"+s:r+t;h.get(u,function(e){try{e=e.split("window._sharedData = ")[1].split("<\/script>")[0]}catch(e){return i(),void console.error("Instagram Feed:See error1")}if(void 0===(e=(e=JSON.parse(e.substr(0,e.length-1))).entry_data.ProfilePage||e.entry_data.TagPage))return i(),void console.error("Instagram Feed:See error2");e=e[0].graphql.user||e[0].graphql.hashtag,o(e)}).fail(function(e){i(),c.parent().addClass("ins_loaded"),console.error("Instagram Feed: Unable to fetch the given user/tag. Instagram responded with the status code: ",e.status)})}}},geckoShopify.instagram=function(){0!=h(".js_nt_ist").length&&h(".js_nt_ist").each(function(e){geckoShopify.refresh_ins(h(this))})}}(jQuery),jQuery(document).ready(function(a){geckoShopify.instagram(),a(".js_sidebar").on("lazyincluded",function(e){geckoShopify.instagram(),a("body").trigger("refresh_currency")})});